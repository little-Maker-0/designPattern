状态模式允许对象在内部状态改变时改变他的行为，对象看起来像是修改了他的类。

案例引入：我们有一个糖果机，它有四个状态，没有25分钱，有25分钱，售出糖果，糖果售罄，根据用户不同的行为，糖果机的状态可以改变。

原始设计：创建各个类变量来对应糖果机的状态，0对应没钱，1对应有钱等，再创建一个实例变量保存当前状态。在糖果机的插入25钱方法里，判断当前状态，并响应对应行为，比如：如果是1状态，糖果机就提醒已经投过钱了。

缺陷：变化。当我想要弹出两个糖果或增加状态时，就不得不打开糖果机代码。

新设计：设计接口或抽象类定义糖果机的行为，将不同的状态封装在类里，并实现这个接口。糖果机类组合了不同的状态对象，每当调用糖果机方法，就把方法委托给状态对象，他们会处理好一切。当我们需要拓展业务时，可以新添一个状态，在该状态类里处理好业务与状态转移问题。

策略与状态模式：二者都是利用组合在运行时动态改变行为，只不过前者对用户的透明度较低：前者需要手动指定需要的对象，也就是说用户清楚行为逻辑，而后者对用户透明度高，调用方法时内部的状态会自己改变，不用清楚内部细节。